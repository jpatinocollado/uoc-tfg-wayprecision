<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="WayPrecision.WaypointDetailPage"
             Title="Detalle del Waypoint">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">
            <Label Text="Nombre" FontAttributes="Bold" />
            <Entry Text="{Binding Name, Mode=TwoWay}" FontSize="20" />

            <Label Text="Creado" FontAttributes="Bold" />
            <Editor Text="{Binding CreatedLocal, StringFormat='{0:dd/MM/yyyy HH:mm}'}"
                 IsReadOnly="True" AutoSize="TextChanges" FontSize="16"
                 BackgroundColor="{DynamicResource Gray200}" />

            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" ColumnSpacing="16" RowSpacing="8">
                <!-- Primera fila: Latitud y Longitud -->
                <VerticalStackLayout Grid.Column="0" Grid.Row="0">
                    <Label Text="Latitud" FontAttributes="Bold" />
                    <Editor Text="{Binding Position.Latitude}" BackgroundColor="{DynamicResource Gray200}"
             IsReadOnly="True" AutoSize="TextChanges" FontSize="16" />
                </VerticalStackLayout>
                <VerticalStackLayout Grid.Column="1" Grid.Row="0">
                    <Label Text="Longitud" FontAttributes="Bold" />
                    <Editor Text="{Binding Position.Longitude}" BackgroundColor="{DynamicResource Gray200}"
             IsReadOnly="True" AutoSize="TextChanges" FontSize="16" />
                </VerticalStackLayout>
                <!-- Segunda fila: Altitud y Precisión -->
                <VerticalStackLayout Grid.Column="0" Grid.Row="1">
                    <Label Text="Altitud" FontAttributes="Bold" />
                    <Editor Text="{Binding Position.Altitude}" BackgroundColor="{DynamicResource Gray200}"
             IsReadOnly="True" AutoSize="TextChanges" FontSize="16" />
                </VerticalStackLayout>
                <VerticalStackLayout Grid.Column="1" Grid.Row="1">
                    <Label Text="Precisión" FontAttributes="Bold" />
                    <Editor Text="{Binding Position.Accuracy, StringFormat='{0} m'}" BackgroundColor="{DynamicResource Gray200}"
             IsReadOnly="True" AutoSize="TextChanges" FontSize="16" />
                </VerticalStackLayout>
            </Grid>

            <Label Text="Observaciones" FontAttributes="Bold" />
            <Editor Text="{Binding Observation, Mode=TwoWay}"
         AutoSize="TextChanges"
         FontSize="16"
         HeightRequest="100" />

            <Button x:Name="SaveButton"
            Text="Guardar"
            Style="{StaticResource PrimaryButton}"
                    Clicked="OnSaveWaypointClicked" />

            <Button x:Name="ViewOnMapButton"
            Text="Ver en el Mapa"
            Style="{StaticResource SecondaryButton}"
                    Clicked="ViewOnMapClicked" />

            <Button x:Name="DeleteButton"
            Text="Eliminar Waypoint"
            Style="{StaticResource TertiaryButton}"
            Clicked="OnDeleteWaypointClicked" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>