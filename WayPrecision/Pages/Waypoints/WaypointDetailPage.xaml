<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="WayPrecision.WaypointDetailPage"
             Title="Detalle del Waypoint">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">
            <Label Text="Nombre" FontAttributes="Bold" />
            <Entry Text="{Binding Name, Mode=TwoWay}" FontSize="20" />

            <Label Text="Creado" FontAttributes="Bold" />
            <Editor Text="{Binding CreatedLocal, StringFormat='{0:dd/MM/yyyy HH:mm:ss}'}"
                 IsReadOnly="True" AutoSize="TextChanges" FontSize="16"
                 TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                BackgroundColor="{AppThemeBinding Light={StaticResource Gray200}}" />

            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" ColumnSpacing="16" RowSpacing="8">
                <!-- Primera fila: Latitud y Longitud -->
                <VerticalStackLayout Grid.Column="0" Grid.Row="0">
                    <Label Text="Latitud" FontAttributes="Bold" />
                    <Editor Text="{Binding Position.Latitude}" 
                    IsReadOnly="True" AutoSize="TextChanges" FontSize="16"
                    TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                    BackgroundColor="{AppThemeBinding Light={StaticResource Gray200}}"/>
                </VerticalStackLayout>
                <VerticalStackLayout Grid.Column="1" Grid.Row="0">
                    <Label Text="Longitud" FontAttributes="Bold" />
                    <Editor Text="{Binding Position.Longitude}" 
                    IsReadOnly="True" AutoSize="TextChanges" FontSize="16"
                    TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                    BackgroundColor="{AppThemeBinding Light={StaticResource Gray200}}"/>
                </VerticalStackLayout>
                <!-- Segunda fila: Altitud y Precisión -->
                <VerticalStackLayout Grid.Column="0" Grid.Row="1">
                    <Label Text="Altitud" FontAttributes="Bold" />
                    <Editor Text="{Binding Position.Altitude}" 
                     IsReadOnly="True" AutoSize="TextChanges" FontSize="16"
                    TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                    BackgroundColor="{AppThemeBinding Light={StaticResource Gray200}}" />
                </VerticalStackLayout>
                <VerticalStackLayout Grid.Column="1" Grid.Row="1">
                    <Label Text="Precisión" FontAttributes="Bold" />
                    <Editor Text="{Binding Position.Accuracy}" 
                     IsReadOnly="True" AutoSize="TextChanges" FontSize="16"
                    TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                    BackgroundColor="{AppThemeBinding Light={StaticResource Gray200}}" />
                </VerticalStackLayout>
            </Grid>

            <Label Text="Observaciones" FontAttributes="Bold" />
            <Editor Text="{Binding Observation, Mode=TwoWay}"
         AutoSize="TextChanges"
         FontSize="16"
         HeightRequest="100" />

            <Button x:Name="SaveButton"
            Text="Guardar"
            Style="{StaticResource PrimaryButton}"
            ImageSource="save32x32dark.png"
                    Clicked="OnSaveWaypointClicked" />

            <Button x:Name="ViewOnMapButton"
            Text="Ver en el Mapa"
                    ImageSource="{AppThemeBinding Light= binoculars32x32red.png, Dark=binoculars32x32dark.png}"
            Style="{StaticResource SecondaryButton}"
                    Clicked="ViewOnMapClicked" />

            <Button x:Name="DeleteButton"
            Text="Eliminar Waypoint"
            Style="{StaticResource TertiaryButton}"
                    ImageSource="{AppThemeBinding Light= delete32x32red.png, Dark=delete32x32dark.png}"
            Clicked="OnDeleteWaypointClicked" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>